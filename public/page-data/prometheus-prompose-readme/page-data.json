{"componentChunkName":"component---node-modules-gatsby-theme-andy-src-templates-note-js","path":"/prometheus-prompose-readme","result":{"data":{"brainNote":{"slug":"prometheus-prompose-readme","title":"prometheus-prompose-readme","childMdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"prometheus-prompose-readme\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Prompose\"), mdx(\"h2\", null, \"Overview\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Inspired by \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/openstack/kolla-ansible\"\n  }, \"OpenStack Kolla-ansible\"), \": You can recognize that Prompose is very similar with Kolla-ansible.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Install \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.docker.com/\"\n  }, \"Docker\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.docker.com/compose/\"\n  }, \"Docker-compose\"), \" in multiple hosts.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Easily configure and deploy containerized \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://prometheus.io\"\n  }, \"Prometheus\"), \" stack: Prometheus, Alertmanager,  its \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://prometheus.io/docs/instrumenting/exporters/\"\n  }, \"exporter\"), \", \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/metalmatze/alertmanager-bot\"\n  }, \"Telegram Bot for Prometheus's Alertmanager\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://grafana.com/\"\n  }, \"Grafana\"), \" in multiple hosts.\"))), mdx(\"h2\", null, \"Why Prompose?\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In the origin version, I used \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.docker.com/compose/\"\n  }, \"docker-compose\"), \" to deploy Prometheus monitoring stack. Therefore \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Prompose\"), \" is born, simply it is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Prometheus + Docker-compose = Prompose\"), \". This version stills available \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/ntk148v/prompose/tree/pure-docker-compose\"\n  }, \"pure-docker-compose branch.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The current version is using \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/ansible/ansible\"\n  }, \"ansible\"), \" and its \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.ansible.com/ansible/2.5/modules/docker_service_module.html\"\n  }, \"docker\", \"_\", \"service module\"), \" to configure number of exporters, port... and deploy Prometheus stack in several hosts easily.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Why don't use \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.ansible.com/ansible/2.5/modules/docker_container_module.html\"\n  }, \"docker\", \"_\", \"container module\"), \"? Just because I found this \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"after\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.ansible.com/ansible/2.5/modules/docker_container_module.html\"\n  }, \"docker\", \"_\", \"service\"), \". Maybe will use it in the future?\"))), mdx(\"h2\", null, \"Usage guide\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Firstly, you have to install ansible (>=2.4) in your management host. There are multiple ways to install ansible, but you simply use \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"./requirements.txt\"\n  }, \"requirements.txt\"), \". You should have \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"python-pip\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"python-dev\"), \" as well.\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"$ sudo pip install -r requirements.txt\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Create \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"/etc/prompose\"), \" directory and copy \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"./etc/prompose.yml\"\n  }, \"etc/prompose.yml\"), \" config file. You can put config in whatever directory you want, but then when execute command, you have to use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"--configdir\"), \" option to point to the directory.\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"$ sudo mkdir /etc/prompose\\n$ sudo cp etc/prompose.yml /etc/prompose/prompose.yml\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Read the config file and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"./ansible/group_vars/all.yml\"\n  }, \"ansible/group\", \"_\", \"vars/all.yml\"), \" file (The options in this file \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"can be overriden\"), \" in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"prompose.yml\"), \"') carefully, then do the change in config file you copied in previous step (by default it is )\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/prompose/prompose.yml\"), \").\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Prepare your inventory file - defines your hosts. Example file can be found \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"./ansible/inventory/\"\n  }, \"here\"), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Run Prompose, point to inventory file with option \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--inventory|-i\"), \":\"))), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"$ sudo ./tools/prompose -i ansible/inventory/all-in-one -h    \\nUsage: ./tools/prompose COMMAND [option]\\n\\nOptions:\\n    --inventory, -i <inventory_path> Specify path to ansible inventory file\\n    --configdir, -c <config_path>    Specify path to directory with prompose.yml\\n    --verbose, -v                    Increase verbosity of ansible-playbook\\n    --help, -h                       Show this usage information\\n    --images                         Remove images when this option is defined and command is remove\\n    --volumes                        Remove volumes when this option is defined and command is remove\\n\\nCommands:\\n    installdocker                    Install docker & docker-compose in target hosts\\n    precheck                         Do pre-deployment checks for hosts\\n    deploy                           Deploy and start all prompose containers\\n    stop                             Stop all prompose containers\\n    pull                             Pull all images for containers (only pull, no running containers)\\n    remove                           Stop and remove all prompose containes (With --images - remove images and --volumes - remove volumes)\\n    restart                          Restart all prompose containers\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enjoy it!\")), mdx(\"h2\", null, \"Contribute\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"If you are interesed with this project, feel free to create a pull request.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"If you have any questions, please contact me via email \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kiennt2609@gmail.com\"), \".\"))));\n}\n;\nMDXContent.isMDXComponent = true;"},"inboundReferenceNotes":[{"title":"About these notes","slug":"about","childMdx":{"excerpt":"Hi, I'm  Kien Nguyen-Tuan  ðŸ‘‹. prometheus-promql-gotchas prometheus-prometheus-promql-join prometheus-prometheus-labels-relabel prometheusâ€¦"}}],"outboundReferenceNotes":[]},"site":{"siteMetadata":{"title":"@kiennt's notes"}}},"pageContext":{"slug":"prometheus-prompose-readme"}},"staticQueryHashes":[]}