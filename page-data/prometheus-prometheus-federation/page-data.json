{"componentChunkName":"component---node-modules-gatsby-theme-andy-src-templates-note-js","path":"/prometheus-prometheus-federation","result":{"data":{"brainNote":{"slug":"prometheus-prometheus-federation","title":"prometheus-prometheus-federation","childMdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"prometheus-prometheus-federation\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Prometheus Federation\"), mdx(\"h2\", null, \"Use cases\"), mdx(\"p\", null, \"Federation helps to perform global aggregations (allows your to have a global Prometheus that pulls aggregated metrics from your datacenter Prometheus servers).\"), mdx(\"p\", null, \"Commonly, federation is used to either scalable Prometheus monitoring setups or pull related metrics from one service's Prometheus into another.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Hierarchical federation\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Cross-service federation\")), mdx(\"p\", null, \"Federation is not for copying the content of entire Prometheus servers.\"), mdx(\"p\", null, \"Federation is not a way to have one Prometheus proxy another Prometheus.\"), mdx(\"p\", null, \"You should not use federation to pull metrics with an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"instance\"), \" label.\"), mdx(\"h2\", null, \"Why should not use federation beyond its intended use case?\"), mdx(\"p\", null, \"Pulling all metrics over the internet to a global Prometheus from where you can then graph and alert on them means that internet connectivity to another datacenter is now a hard dependency on your per-datacenter monitoring working.\"), mdx(\"p\", null, \"Each Prometheus is standalone and running on one machine and thus limited by machine size in terms of how much it can handle. If the global Prometheus was pulling in all metrics from each datacenter Prometheus, the global Prometheus would become the bottleneck and greatly limit your ability to scale.\"), mdx(\"p\", null, \"Prometheus is designed to scrape many thousands of small to medium size targets. By spreading the scrapes over the scrape interval, Prometheus can keep up with the data volumes with even load. If you instead have it scrape a handful of targets with massive numbers of time series, such as massive federation endpoints, this can cause load spikes and it may not even be possible for Prometheus to complete processing of one massive scrape worth of data in time to start the next scrape.\"));\n}\n;\nMDXContent.isMDXComponent = true;"},"inboundReferenceNotes":[{"title":"About these notes","slug":"about","childMdx":{"excerpt":"Hi, I'm  Kien Nguyen-Tuan  ðŸ‘‹. prometheus-promql-gotchas prometheus-prometheus-promql-join prometheus-prometheus-labels-relabel prometheusâ€¦"}}],"outboundReferenceNotes":[]},"site":{"siteMetadata":{"title":"@kiennt's notes"}}},"pageContext":{"slug":"prometheus-prometheus-federation"}},"staticQueryHashes":[]}